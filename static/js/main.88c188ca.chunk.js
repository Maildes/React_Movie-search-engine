(this["webpackJsonpmovie-search-engine"]=this["webpackJsonpmovie-search-engine"]||[]).push([[0],{20:function(e,t,a){e.exports=a.p+"static/media/poster_none.d38bc38a.png"},29:function(e,t,a){e.exports=a(50)},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},41:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),i=a.n(c),l=(a(34),a(35),a(36),a(2)),o=a(12),s=a(3),u=(a(41),a(8)),m=a.n(u),E=a(10),p="https://www.omdbapi.com/",f=function(){var e=Object(E.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(p,"?s=").concat(t,"&page=").concat(a,"&apikey=").concat("8a5fc427"));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_=function(){var e=Object(E.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(p,"?i=").concat(t,"&plot=full&apikey=").concat("8a5fc427"));case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=(a(43),function(e){return{type:"SET_LOADING",status:e}}),v=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING":return t.status;default:return e}},b=function(e){return{type:"SET_ERROR",errorMassage:e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERROR":return t.errorMassage;default:return e}},g=function(e){return{type:"SET_DETAILS",details:e}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DETAILS":return t.details;default:return e}},y=a(14),O=function(e){return{type:"initMovies",movies:e}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"initMovies":return t.movies;case"SET_CLEAR_MOVIES":return[];default:return e}},j=function(e){return{type:"SET_FILTER",query:e}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILTER":return t.query;default:return e}},w=function(e){return{type:"SET_PAGE",page:e}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PAGE":return t.page;default:return e}},I=a(25),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SEARCH_MOVIE":return[].concat(Object(I.a)(e),[t.query]);case"CLEAR":return[];case"REFRESH":return[].concat(Object(I.a)(e.slice(e.length-1)),[t.query]);default:return e}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IMDB_ID":return t.imdbId;default:return e}},A=function(e){return e.movies},L=function(e){return e.details},M=function(e){return e.loading},x=function(e){return e.error},F=function(e){return e.query},D=function(e){return e.currentPage},P=function(e){return e.historySearch},q=function(e){return e.id},G=Object(y.b)({movies:S,details:N,loading:v,error:h,query:k,currentPage:R,historySearch:T,id:C}),B=localStorage.getItem("reduxState")?JSON.parse(localStorage.getItem("reduxState")||""):{},H=Object(y.c)(G,B);H.subscribe((function(){localStorage.setItem("reduxState",JSON.stringify(H.getState()))}));var J=H,V=(a(44),function(){return r.a.createElement("div",{className:"Loader"},r.a.createElement("div",{className:"Loader__content"}))}),W=a(20),Y=a.n(W),z=function(e){var t=e.history,a=Object(l.b)(),c=Object(l.c)(q),i=Object(l.c)(L),o=Object(l.c)(M),s=function(){var e=Object(E.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(d(!0));try{_(c).then((function(e){"False"===e.Response&&b(e.Error);var t=g(e);a(t),a(d(!1))}))}catch(t){a(b("Loading error")),a(d(!1))}case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){s()}),[c]),r.a.createElement("section",{className:"movie movie__info"},o?r.a.createElement(V,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"movie__button--back",onClick:function(){return t.goBack()}},"Back"),r.a.createElement("div",{className:"movie__logo"},r.a.createElement("img",{className:"movie__img",src:"N/A"!==i.Poster?i.Poster:Y.a,alt:"Film logo"})),r.a.createElement("div",{className:"movie__details"},r.a.createElement("div",{className:"movie__header"},r.a.createElement("h2",{className:"movie__title"},i.Title," (",i.Year,")"),"N/A"!==i.imdbRating&&r.a.createElement("div",{className:"movie__rating"},r.a.createElement("div",{className:"star-logo"}),r.a.createElement("div",{className:"rating__score"},r.a.createElement("p",null,i.imdbRating,"/10"),r.a.createElement("p",null)))),r.a.createElement("article",{className:"movie__description description"},r.a.createElement("div",{className:"description__item"},r.a.createElement("h4",null,"Country: "),r.a.createElement("p",null,i.Country)),r.a.createElement("div",{className:"description__item"},r.a.createElement("h4",null,"Genre: "),r.a.createElement("p",null,i.Genre)),r.a.createElement("div",{className:"description__item"},r.a.createElement("h4",null,"Runtime: "),r.a.createElement("p",null,i.Runtime)),r.a.createElement("div",{className:"description__item"},r.a.createElement("h4",null,"Director: "),r.a.createElement("p",null,i.Director)),r.a.createElement("div",{className:"description__item"},r.a.createElement("h4",null,"Writer: "),r.a.createElement("p",null,i.Writer)),r.a.createElement("div",{className:"description__item"},r.a.createElement("h4",null,"Actors: "),r.a.createElement("p",null,i.Actors)),r.a.createElement("div",{className:"description__item"},r.a.createElement("h4",null,"Language: "),r.a.createElement("p",null,i.Language)),r.a.createElement("div",{className:"description__item"},r.a.createElement("h4",null,"Production: "),r.a.createElement("p",null,i.Production)),r.a.createElement("div",{className:"movie__plot"},r.a.createElement("h4",null,"Plot: "),r.a.createElement("p",null,i.Plot))))))},K=a(16),Q=(a(45),a(9)),U=a.n(Q),X=(a(46),function(e){var t=e.errorNotice,a=e.setErrorNotice,c=Object(l.b)(),i=Object(l.c)(F),o=Object(l.c)(x),s=Object(n.useState)(i),u=Object(K.a)(s,2),m=u[0],E=u[1];Object(n.useEffect)((function(){E("")}),[i]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"form movies-form",onSubmit:function(e){!function(e){if(e.preventDefault(),""===m)return c(b("Please enter the movie you are interested in")),void a(!0);c(j(m)),c(w(1)),E("")}(e)}},r.a.createElement("div",{className:"form__control"},r.a.createElement("input",{className:U()("form__input",{"form__input-error":t}),type:"text",id:"movie-title",value:m.trimLeft(),placeholder:"Enter a title to search",onChange:function(e){E(e.target.value),a(!1)}}),r.a.createElement("button",{type:"submit",className:"form__button"},"Search"))),t&&r.a.createElement("p",{className:"form__error"},o))}),Z=(a(47),function(){var e=Object(l.c)(A),t=Object(l.b)();return r.a.createElement(r.a.Fragment,null,e.map((function(e){var a=e.Title,n=e.Poster,c=e.Year,i=e.Type,l=e.imdbID;return r.a.createElement("li",{className:"movies__card card",key:l,onClick:function(){t({type:"IMDB_ID",imdbId:l})}},r.a.createElement(o.b,{to:"movie/i=".concat(l)},r.a.createElement("div",{className:"card__image"},r.a.createElement("figure",null,r.a.createElement("img",{className:"image image--poster",src:"N/A"!==n?n:Y.a,alt:"Film logo"}))),r.a.createElement("p",{className:"card__title"},a," (",c,")"),r.a.createElement("button",{className:"card__details",type:"button"},"More details"),r.a.createElement("span",{className:"card__type"},i)))})))}),$=function(){return r.a.createElement("ul",{className:"movies movies__list"},r.a.createElement(Z,null))},ee=function(e){for(var t=e.totalMovies,a=Object(l.b)(),n=Object(l.c)(D),c=[],i=Math.ceil(t/10),o=function(e){a(w(e))},s=1;s<=i;s++)c.push(s);return r.a.createElement("nav",{className:"nav__pagination"},r.a.createElement("ul",{className:"pagination pagination__list"},r.a.createElement("li",{className:"pagination__item"},r.a.createElement("button",{className:U()("pagination__button","pagination__button--first",{"button-disabled":1===n}),onClick:function(){return o(1)},disabled:1===n})),r.a.createElement("li",{className:"pagination__item"},r.a.createElement("button",{type:"button","aria-label":"Go left",className:U()("pagination__button","pagination__button--left",{"button-disabled":1===n}),onClick:function(){return o(n-1)}})),c.slice(n>4?n-4:0,n+3).map((function(e){return r.a.createElement("li",{className:"pagination__item",key:e},r.a.createElement("button",{onClick:function(){o(e),window.scrollTo(145,150)},className:U()({pagination__button:!0,"pagination__button--active":e===n})},e))})),r.a.createElement("li",{className:"pagination__item"},r.a.createElement("button",{type:"button","aria-label":"Go right",className:U()("pagination__button","pagination__button--right",{"button-disabled":n===c.length}),onClick:function(){return o(n+1)}})),r.a.createElement("li",{className:"pagination__item"},r.a.createElement("button",{className:U()("pagination__button","pagination__button--last",{"button-disabled":n===c.length}),onClick:function(){return o(i)}}))))},te=(a(49),function(e){var t=e.handleClear,a=e.setErrorNotice,c=Object(l.b)(),i=Object(l.c)(P);return Object(n.useEffect)((function(){var e;i.length>10&&c({type:"REFRESH",query:e})}),[i]),r.a.createElement(r.a.Fragment,null,i.length>0&&r.a.createElement("div",{className:"history"},r.a.createElement("button",{className:"history__clear",onClick:function(){t()}},"Clear"),r.a.createElement("ul",{className:"history__list"},r.a.createElement("li",{className:"history__item--title"},r.a.createElement("p",{className:"history__title"},"Search history:")),i.map((function(e){return r.a.createElement("li",{className:"history__item",key:e},r.a.createElement("button",{className:"history__button",onClick:function(){c(j(e)),c(w(1)),a(!1)}},e))})))))}),ae=function(){return r.a.createElement("div",{className:"hello__marakas"},r.a.createElement("img",{src:"https://marakasdesign.com/wp-content/themes/semplice/images/eye.gif",alt:"eye"}))},ne=function(){var e=Object(l.b)(),t=Object(l.c)(A),a=Object(l.c)(M),c=Object(l.c)(D),i=Object(l.c)(P),o=Object(l.c)(F),s=Object(n.useState)(!1),u=Object(K.a)(s,2),p=u[0],_=u[1],v=Object(n.useState)(0),h=Object(K.a)(v,2),g=h[0],N=h[1],y=function(){var t=Object(E.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(d(!0));try{f(o,c).then((function(t){if("False"!==t.Response){var a=O(t.Search);return e(a),N(t.totalResults),n=o,void(i.includes(n)?e(j(n)):e(function(e){return{type:"SET_SEARCH_MOVIE",query:e}}(n)))}if(""===o)return e(d(!1)),void _(!1);var n;e(b("Movie not found, please try again")),_(!0)}))}catch(a){e(b("Failed to load movies, sorry, please try again")),e(d(!1))}case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){y()}),[o,c]);return r.a.createElement("main",{className:"page-content"},r.a.createElement("header",{className:"header"},r.a.createElement("h1",{className:"header__title"},"Who seeks shall find :)"),r.a.createElement(X,{loadMovies:y,errorNotice:p,setErrorNotice:_}),r.a.createElement(te,{handleClear:function(){e({type:"CLEAR"}),e({type:"SET_CLEAR_MOVIES"}),e(d(!1)),_(!1),window.localStorage.clear(),N(0)},setErrorNotice:_})),a?r.a.createElement($,{movies:t}):r.a.createElement(ae,null),g>40&&r.a.createElement(ee,{totalMovies:g}))},re=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",exact:!0,component:ne}),r.a.createElement(s.a,{path:"/movie/i=:movieId?",exact:!0,component:z})))};i.a.render(r.a.createElement(l.a,{store:J},r.a.createElement(o.a,null,r.a.createElement(re,null))),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.88c188ca.chunk.js.map